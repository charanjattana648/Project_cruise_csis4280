<html>
    <head>
          <script
      src="https://code.jquery.com/jquery-3.4.1.js"
      integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
      crossorigin="anonymous"></script>
      <script>
         $(document).ready(function() {
          $("#login_btn").click(()=>{
            $.ajax({
                  url:document.URL+"login",
                  type:"POST",
                  success: display,
                  data: {
                        email: $("#email_login").val() ,
                        psw: $("#password_login").val()
                    }
                  })
          })
            $("#signUp_btn").click(()=>{
              $.ajax({
                  url:document.URL+"signUp",
                  type:"POST",
                  success: display,
                  data: {
                        firstName: $("#firstName").val() ,
                        lastName: $("#lastName").val(),
                        email: $("#email_login").val() ,
                        psw: $("#password_login").val()
                    }
                  })
          })
          $("#cruiseData_btn").click(()=>{
              $.ajax({
                  url:document.URL+"cruiseList",
                  type:"POST",
                  success:displayCruiseList,
                  data:{}
                  
                  })
          })
          function display(resfromServer)
          {
              var res=resfromServer.split(":");
              console.log(res[1]);
          }
          function displayCruiseList(res)
          {
              var cruiseArr=JSON.parse(res);
              var result="";
            //   for(var i=0;i<cruiseArr.length;i++)
            //   {
            //       result="CompanyName : "+cruiseArr[i]['CompanyName']+"<br>"+
            //       "CruiseName : "+cruiseArr[i]['CruiseName']+"<br>";
            //   }
               cruiseArr.forEach(function(cruise)
              {
                  result="CompanyName : "+cruise['CompanyName']+"<br>"+
                  "CruiseName : "+cruise.CruiseName+"<br>";
                  cruise.Departs_from.forEach(function(cd)
              {
                  result+=cd+"<br>";
              })
               $("#cruise_img").attr("src",cruise['CruiseImage'])
              })
             
              $("#cruise_list").html(result);
              
          }
         })
      </script>
    </head>
    <body>
        <h1>Hello World</h1>
        <div>
            <hr>
             <for label="firstName">FirstName: </for>
            <input type="text" id="firstName"/><br>
            <for label="lastName">LastName: </for>
            <input type="text" id="lastName"/><br>
            <for label="email_login">Email: </for>
            <input type="email" id="email_login"/><br>
            <for label="password_login">Password: </for>
            <input type="password" id="password_login"/><br>
            <input type="button" id="login_btn" value="Login"/><br>
            <input type="button" id="signUp_btn" value="SignUp"/>
             <input type="button" id="cruiseData_btn" value="Get Cruise List"/>
            <hr>
        </div>
        
        <h3 id="cruise_list"></h3>
        <img id="cruise_img" src="" style="height:250px;width:250px;"></img>
       
    </body>
</html>